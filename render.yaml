services:
  - type: web
    name: agent
    runtime: docker
    plan: free
    region: singapore
    healthCheckPath: /
    autoDeploy: true
    envVars:
      - key: APP_ENV
        value: production
      - key: ENABLE_SCHEDULER
        value: "false"

      # Production requires Postgres. In Render, provision a managed Postgres database
      # and set DATABASE_URL via the database connection string.
      - key: DATABASE_URL
        fromDatabase:
          name: agentbot-postgres
          property: connectionString

      - key: GOOGLE_CLIENT_ID
        sync: false
      - key: GOOGLE_CLIENT_SECRET
        sync: false
      - key: GOOGLE_REDIRECT_URI
        sync: false

      # Optional: comma-separated emails used to determine "last_from_me".
      - key: MY_EMAILS
        value: ""

      # Optional (only needed if you enable reminders)
      - key: REMINDER_TO_EMAIL
        value: ""

      # Optional (only needed if you enable the AI features)
      - key: OPENAI_API_KEY
        value: ""

databases:
  - name: agentbot-postgres
    databaseName: agentbot
    plan: free
